login as: root
root@139.84.169.252's password:
Welcome to Ubuntu 22.04.5 LTS (GNU/Linux 5.15.0-136-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sun Apr 27 10:30:57 AM UTC 2025

  System load:  0.0                Processes:               139
  Usage of /:   36.5% of 22.88GB   Users logged in:         1
  Memory usage: 35%                IPv4 address for enp1s0: 139.84.169.252
  Swap usage:   3%

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

0 updates can be applied immediately.

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.2 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


*** System restart required ***
Last login: Sun Apr 27 09:43:31 2025 from 1.187.220.71
root@vultr:~# sudo nano /root/setup-ssl-http2.sh
root@vultr:~# sudo chmod +x /root/setup-ssl-http2.sh
sudo /root/setup-ssl-http2.sh
===== Setting up SSL with HTTP/2 for views.yoyoprime.com =====
Installing required packages...
Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease
Hit:2 http://ubuntu.mirror.constant.com jammy InRelease
Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
Hit:4 https://apt.postgresql.org/pub/repos/apt jammy-pgdg InRelease
Hit:5 https://deb.nodesource.com/node_20.x nodistro InRelease
Get:6 http://ubuntu.mirror.constant.com jammy-updates InRelease [128 kB]
Hit:7 http://archive.ubuntu.com/ubuntu jammy-backports InRelease
Get:8 http://archive.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
Get:9 http://ubuntu.mirror.constant.com jammy-backports InRelease [127 kB]
Get:10 http://ubuntu.mirror.constant.com jammy-security InRelease [129 kB]
Fetched 641 kB in 3s (221 kB/s)
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
All packages are up to date.
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  python3-acme python3-certbot python3-configargparse python3-icu
  python3-josepy python3-parsedatetime python3-requests-toolbelt
  python3-rfc3339 python3-zope.component python3-zope.event
  python3-zope.hookable
Suggested packages:
  python-certbot-doc python3-certbot-apache python-acme-doc
  python-certbot-nginx-doc
The following NEW packages will be installed:
  certbot python3-acme python3-certbot python3-certbot-nginx
  python3-configargparse python3-icu python3-josepy python3-parsedatetime
  python3-requests-toolbelt python3-rfc3339 python3-zope.component
  python3-zope.event python3-zope.hookable
0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
Need to get 993 kB of archives.
After this operation, 5,077 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu jammy/universe amd64 python3-josepy all 1                                                                             .10.0-1 [22.0 kB]
Get:2 http://archive.ubuntu.com/ubuntu jammy/main amd64 python3-requests-toolbel                                                                             t all 0.9.1-1 [38.0 kB]
Get:3 http://archive.ubuntu.com/ubuntu jammy/main amd64 python3-rfc3339 all 1.1-                                                                             3 [7,110 B]
Get:4 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 python3-acme                                                                              all 1.21.0-1ubuntu0.1 [36.4 kB]
Get:5 http://archive.ubuntu.com/ubuntu jammy/universe amd64 python3-configargpar                                                                             se all 1.5.3-1 [26.9 kB]
Get:6 http://archive.ubuntu.com/ubuntu jammy/universe amd64 python3-parsedatetim                                                                             e all 2.6-2 [32.9 kB]
Get:7 http://archive.ubuntu.com/ubuntu jammy/universe amd64 python3-zope.hookabl                                                                             e amd64 5.1.0-1build1 [11.6 kB]
Get:8 http://archive.ubuntu.com/ubuntu jammy/universe amd64 python3-zope.event a                                                                             ll 4.4-3 [8,180 B]
Get:9 http://archive.ubuntu.com/ubuntu jammy/universe amd64 python3-zope.compone                                                                             nt all 4.3.0-3 [38.3 kB]
Get:10 http://archive.ubuntu.com/ubuntu jammy/universe amd64 python3-certbot all                                                                              1.21.0-1build1 [175 kB]
Get:11 http://archive.ubuntu.com/ubuntu jammy/universe amd64 certbot all 1.21.0-                                                                             1build1 [21.3 kB]
Get:12 http://archive.ubuntu.com/ubuntu jammy/universe amd64 python3-certbot-ngi                                                                             nx all 1.21.0-1 [35.4 kB]
Get:13 http://archive.ubuntu.com/ubuntu jammy/main amd64 python3-icu amd64 2.8.1                                                                             -0ubuntu2 [540 kB]
Fetched 993 kB in 3s (332 kB/s)
Preconfiguring packages ...
Selecting previously unselected package python3-josepy.
(Reading database ... 129235 files and directories currently installed.)
Preparing to unpack .../00-python3-josepy_1.10.0-1_all.deb ...
Unpacking python3-josepy (1.10.0-1) ...
Selecting previously unselected package python3-requests-toolbelt.
Preparing to unpack .../01-python3-requests-toolbelt_0.9.1-1_all.deb ...
Unpacking python3-requests-toolbelt (0.9.1-1) ...
Selecting previously unselected package python3-rfc3339.
Preparing to unpack .../02-python3-rfc3339_1.1-3_all.deb ...
Unpacking python3-rfc3339 (1.1-3) ...
Selecting previously unselected package python3-acme.
Preparing to unpack .../03-python3-acme_1.21.0-1ubuntu0.1_all.deb ...
Unpacking python3-acme (1.21.0-1ubuntu0.1) ...
Selecting previously unselected package python3-configargparse.
Preparing to unpack .../04-python3-configargparse_1.5.3-1_all.deb ...
Unpacking python3-configargparse (1.5.3-1) ...
Selecting previously unselected package python3-parsedatetime.
Preparing to unpack .../05-python3-parsedatetime_2.6-2_all.deb ...
Unpacking python3-parsedatetime (2.6-2) ...
Selecting previously unselected package python3-zope.hookable.
Preparing to unpack .../06-python3-zope.hookable_5.1.0-1build1_amd64.deb ...
Unpacking python3-zope.hookable (5.1.0-1build1) ...
Selecting previously unselected package python3-zope.event.
Preparing to unpack .../07-python3-zope.event_4.4-3_all.deb ...
Unpacking python3-zope.event (4.4-3) ...
Selecting previously unselected package python3-zope.component.
Preparing to unpack .../08-python3-zope.component_4.3.0-3_all.deb ...
Unpacking python3-zope.component (4.3.0-3) ...
Selecting previously unselected package python3-certbot.
Preparing to unpack .../09-python3-certbot_1.21.0-1build1_all.deb ...
Unpacking python3-certbot (1.21.0-1build1) ...
Selecting previously unselected package certbot.
Preparing to unpack .../10-certbot_1.21.0-1build1_all.deb ...
Unpacking certbot (1.21.0-1build1) ...
Selecting previously unselected package python3-certbot-nginx.
Preparing to unpack .../11-python3-certbot-nginx_1.21.0-1_all.deb ...
Unpacking python3-certbot-nginx (1.21.0-1) ...
Selecting previously unselected package python3-icu.
Preparing to unpack .../12-python3-icu_2.8.1-0ubuntu2_amd64.deb ...
Unpacking python3-icu (2.8.1-0ubuntu2) ...
Setting up python3-configargparse (1.5.3-1) ...
Setting up python3-requests-toolbelt (0.9.1-1) ...
Setting up python3-parsedatetime (2.6-2) ...
Setting up python3-icu (2.8.1-0ubuntu2) ...
Setting up python3-zope.event (4.4-3) ...
Setting up python3-zope.hookable (5.1.0-1build1) ...
Setting up python3-josepy (1.10.0-1) ...
Setting up python3-rfc3339 (1.1-3) ...
Setting up python3-zope.component (4.3.0-3) ...
Setting up python3-acme (1.21.0-1ubuntu0.1) ...
Setting up python3-certbot (1.21.0-1build1) ...
Setting up certbot (1.21.0-1build1) ...
Created symlink /etc/systemd/system/timers.target.wants/certbot.timer â†’ /lib/sys                                                                             temd/system/certbot.timer.
Setting up python3-certbot-nginx (1.21.0-1) ...
Processing triggers for man-db (2.10.2-1) ...
Scanning processes...
Scanning linux images...

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
Creating Nginx configuration...
Enabling site...
nginx: [warn] conflicting server name "views.yoyoprime.com" on 0.0.0.0:80, ignor                                                                             ed
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
Obtaining SSL certificate with Certbot...
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Account registered.
Requesting a certificate for views.yoyoprime.com

Successfully received certificate.
Certificate is saved at: /etc/letsencrypt/live/views.yoyoprime.com/fullchain.pem
Key is saved at:         /etc/letsencrypt/live/views.yoyoprime.com/privkey.pem
This certificate expires on 2025-07-26.
These files will be updated when the certificate renews.
Certbot has set up a scheduled task to automatically renew this certificate in t                                                                             he background.

Deploying certificate
Successfully deployed certificate for views.yoyoprime.com to /etc/nginx/sites-en                                                                             abled/views.yoyoprime.com
Congratulations! You have successfully enabled HTTPS on https://views.yoyoprime.                                                                             com

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
If you like Certbot, please consider supporting our work by:
 * Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
 * Donating to EFF:                    https://eff.org/donate-le
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Updating Nginx config for HTTP/2...
nginx: [emerg] "ssl_session_timeout" directive is duplicate in /etc/nginx/sites-                                                                             enabled/views.yoyoprime.com:13
nginx: configuration file /etc/nginx/nginx.conf test failed
Setting up automatic renewal...
Saving debug log to /var/log/letsencrypt/letsencrypt.log

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Processing /etc/letsencrypt/renewal/views.yoyoprime.com.conf
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Error while running nginx -c /etc/nginx/nginx.conf -t.

nginx: [emerg] "ssl_session_timeout" directive is duplicate in /etc/nginx/sites-                                                                             enabled/views.yoyoprime.com:13
nginx: configuration file /etc/nginx/nginx.conf test failed

Failed to renew certificate views.yoyoprime.com with error: The nginx plugin is                                                                              not working; there may be problems with your existing configuration.
The error was: MisconfigurationError('Error while running nginx -c /etc/nginx/ng                                                                             inx.conf -t.\n\nnginx: [emerg] "ssl_session_timeout" directive is duplicate in /                                                                             etc/nginx/sites-enabled/views.yoyoprime.com:13\nnginx: configuration file /etc/n                                                                             ginx/nginx.conf test failed\n')

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
All simulated renewals failed. The following certificates could not be renewed:
  /etc/letsencrypt/live/views.yoyoprime.com/fullchain.pem (failure)
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1 renew failure(s), 0 parse failure(s)
Ask for help or search for solutions at https://community.letsencrypt.org. See t                                                                             he logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for mo                                                                             re details.
===== SSL with HTTP/2 setup complete =====
Your site is now available at: https://views.yoyoprime.com
Certificates will automatically renew when needed
root@vultr:~#

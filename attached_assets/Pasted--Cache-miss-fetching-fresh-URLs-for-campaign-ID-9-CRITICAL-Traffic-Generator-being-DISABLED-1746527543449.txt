🔍 Cache miss - fetching fresh URLs for campaign ID: 9
⛔ CRITICAL: Traffic Generator being DISABLED for campaign 9 - stopping ALL monitoring
🛑 Stopping ALL Traffic Generator monitoring for campaign 9
✅ Stopped global active timer - will restart after cleanup
✅ Updated campaign 9 status to 'disabled' in database
✅ Successfully disabled and stopped all Traffic Generator monitoring for campaign 9
🔍 DEBUG: Traffic Generator enabled value (after normalization): false type: boolean
🔍 DEBUG: Traffic Sender enabled value (after normalization): undefined type: undefined
🔍 DEBUG: Campaign update request TYPE: number
🔍 DEBUG: Campaign update request VALUE: 1
🔍 DEBUG: Campaign update requested: ID 9
  - Current multiplier: 1 (type: number)
  - Requested multiplier: 1 (type: number)
🔍 DEBUG: Received pricePerThousand: 1 type: number
🔍 DEBUG: Setting pricePerThousand to: 1.0000
🔍 DEBUG: Setting trafficstarCampaignId to: 1000866
🔍 DEBUG: Setting budgetUpdateTime to: 00:00:00
🔍 DEBUG: Setting trafficGeneratorEnabled to: false (original value: false )
🔍 DEBUG: Setting postPauseCheckMinutes to: 10
🔍 DEBUG: No multiplier change detected, skipping URL updates
10:29:52 AM [express] PUT /api/campaigns/9 200 in 233ms :: {"id":9,"name":"Test Click Count Fix","red…
🔍 Cache miss - fetching fresh URLs for campaign ID: 9
10:29:53 AM [express] GET /api/campaigns/9 200 in 34ms :: {"id":9,"name":"Test Click Count Fix","redi…
🔓 DEVELOPMENT MODE: Authentication bypassed
🔍 Cache miss - fetching fresh URLs for campaign ID: 9
🔍 Cache miss - fetching fresh URLs for campaign ID: 8
🔍 Cache miss - fetching fresh URLs for campaign ID: 6
✅ Restarted global active timer after cleanup
🔍 Cache miss - fetching fresh URLs for campaign ID: 4
🔍 Cache miss - fetching fresh URLs for campaign ID: 2
🔍 Cache miss - fetching fresh URLs for campaign ID: 1
10:29:53 AM [express] GET /api/campaigns 200 in 144ms :: [{"id":9,"name":"Test Click Count Fix","redi…
🔓 DEVELOPMENT MODE: Authentication bypassed
🔍 DEBUG: Campaign update request received: {
  "name": "Test Click Count Fix",
  "redirectMethod": "direct",
  "customPath": "clicktest",
  "multiplier": 1,
  "pricePerThousand": 1,
  "trafficstarCampaignId": "1000866",
  "budgetUpdateTime": "00:00:00",
  "trafficGeneratorEnabled": true,
  "postPauseCheckMinutes": 10
}
🔍 Cache miss - fetching fresh URLs for campaign ID: 9
🔍 DEBUG: Traffic Generator enabled value (after normalization): true type: boolean
🔍 DEBUG: Traffic Sender enabled value (after normalization): undefined type: undefined
🔍 DEBUG: Campaign update request TYPE: number
🔍 DEBUG: Campaign update request VALUE: 1
🔍 DEBUG: Campaign update requested: ID 9
  - Current multiplier: 1 (type: number)
  - Requested multiplier: 1 (type: number)
🔍 DEBUG: Received pricePerThousand: 1 type: number
🔍 DEBUG: Setting pricePerThousand to: 1.0000
🔍 DEBUG: Setting trafficstarCampaignId to: 1000866
🔍 DEBUG: Setting budgetUpdateTime to: 00:00:00
🔍 DEBUG: Setting trafficGeneratorEnabled to: true (original value: true )
🔍 DEBUG: Setting postPauseCheckMinutes to: 10
🔍 DEBUG: No multiplier change detected, skipping URL updates
🔍 DEBUG: Traffic Generator was just enabled for campaign 9, running immediate check...
🔍 Cache miss - fetching fresh URLs for campaign ID: 9
⛔ CRITICAL: Traffic Generator just enabled - IMMEDIATELY PAUSING campaign 1000866
⏹️ Attempting to pause TrafficStar campaign 1000866
TRAFFIC-GENERATOR: Getting REAL-TIME status for campaign 1000866
Getting campaign 1000866 details
TRAFFIC-GENERATOR: TrafficStar campaign 1000866 REAL status is paused, active=false
TrafficStar campaign 1000866 is already paused, no action needed
✅ Campaign 1000866 immediately paused after enabling Traffic Generator
Processing Traffic Generator for campaign 9
10:30:00 AM [express] PUT /api/campaigns/9 200 in 1210ms :: {"id":9,"name":"Test Click Count Fix","re…
Processing Traffic Generator for campaign 9 with TrafficStar ID 1000866
Fetching spent value for campaign 1000866 on 2025-05-06
Fetching spent value for campaign 1000866 from 2025-05-06 to 2025-05-06
Getting spent value for campaign 1000866 for date 2025-05-06
Report API request parameters: campaign_id=1000866&date_from=2025-05-06&date_to=2025-05-06&group_by=day&columns=amount
Making direct request to: https://api.trafficstars.com/v1.1/advertiser/custom/report/by-day?campaign_id=1000866&date_from=2025-05-06&date_to=2025-05-06&group_by=day&columns=amount
Report API raw response type: object
Parsing report data from TrafficStar API
Report data is an array, using original parser logic
Report data array is empty
Campaign 1000866 spent value from reports API: $0.0000
Successfully retrieved spent value for campaign 1000866: $0.0000
Campaign 1000866 spent value: $0.0000
Campaign 9 spent value: $0.0000
TRAFFIC-GENERATOR: Handling campaign 1000866 by spent value - current spent: $0.0000
🔵 LOW SPEND ($0.0000 < $10.00): Campaign 1000866 has spent less than $10.00
🔍 DEBUG: Checking remaining clicks for 16 URLs in campaign 1000866
🔍 URL ID: 105, status: deleted, clickLimit: 5000, clicks: 0
❌ Skipping URL ID: 105 with status: deleted
🔍 URL ID: 86, status: deleted, clickLimit: 100, clicks: 2
❌ Skipping URL ID: 86 with status: deleted
🔍 URL ID: 87, status: deleted, clickLimit: 10, clicks: 0
❌ Skipping URL ID: 87 with status: deleted
🔍 URL ID: 92, status: deleted, clickLimit: 100000, clicks: 0
❌ Skipping URL ID: 92 with status: deleted
🔍 URL ID: 104, status: deleted, clickLimit: 10000, clicks: 0
❌ Skipping URL ID: 104 with status: deleted
🔍 URL ID: 121, status: deleted, clickLimit: 100000, clicks: 0
❌ Skipping URL ID: 121 with status: deleted
🔍 URL ID: 201, status: deleted, clickLimit: 100, clicks: 0
❌ Skipping URL ID: 201 with status: deleted
🔍 URL ID: 197, status: deleted, clickLimit: 10, clicks: 0
❌ Skipping URL ID: 197 with status: deleted
🔍 URL ID: 198, status: deleted, clickLimit: 20000, clicks: 0
❌ Skipping URL ID: 198 with status: deleted
🔍 URL ID: 199, status: deleted, clickLimit: 25000, clicks: 0
❌ Skipping URL ID: 199 with status: deleted
🔍 URL ID: 200, status: deleted, clickLimit: 10000, clicks: 0
❌ Skipping URL ID: 200 with status: deleted
🔍 URL ID: 280, status: deleted, clickLimit: 20000, clicks: 0
❌ Skipping URL ID: 280 with status: deleted
🔍 URL ID: 281, status: deleted, clickLimit: 4000, clicks: 0
❌ Skipping URL ID: 281 with status: deleted
🔍 URL ID: 283, status: active, clickLimit: 100000, clicks: 0
✅ Adding 100000 remaining clicks from URL ID: 283
🔍 URL ID: 287, status: active, clickLimit: 14999, clicks: 0
✅ Adding 14999 remaining clicks from URL ID: 287
🔍 URL ID: 384, status: active, clickLimit: 1000, clicks: 0
✅ Adding 1000 remaining clicks from URL ID: 384
📊 Campaign 1000866 has 115999 total remaining clicks across all active URLs
TRAFFIC-GENERATOR: Getting REAL-TIME status for campaign 1000866
Getting campaign 1000866 details
🔓 DEVELOPMENT MODE: Authentication bypassed
🔍 Cache miss - fetching fresh URLs for campaign ID: 9
🔍 Cache miss - fetching fresh URLs for campaign ID: 9
10:30:00 AM [express] GET /api/campaigns/9 200 in 35ms :: {"id":9,"name":"Test Click Count Fix","redi…
🔍 Cache miss - fetching fresh URLs for campaign ID: 8
🔍 Cache miss - fetching fresh URLs for campaign ID: 6
🔍 Cache miss - fetching fresh URLs for campaign ID: 4
🔍 Cache miss - fetching fresh URLs for campaign ID: 2
🔍 Cache miss - fetching fresh URLs for campaign ID: 1
10:30:00 AM [express] GET /api/campaigns 200 in 209ms :: [{"id":9,"name":"Test Click Count Fix","redi…
TRAFFIC-GENERATOR: TrafficStar campaign 1000866 REAL status is paused, active=false
📊 Campaign 1000866 current status: paused
✅ Campaign 1000866 has 115999 remaining clicks (>= 15000) - will attempt auto-reactivation
Setting campaign 1000866 end time to: 2025-05-06 23:59:00
Successfully updated end time for campaign 1000866
Confirmed end time update for campaign 1000866
✅ Set campaign 1000866 end time to 2025-05-06 23:59:00
Activating campaign 1000866
Successfully activated campaign 1000866
✅ AUTO-REACTIVATED low spend campaign 1000866 - it has 115999 remaining clicks
✅ Marked campaign 9 as 'auto_reactivated_low_spend' in database
🔄 Starting minute-by-minute ACTIVE status check for campaign 1000866
🔄 Running scheduled multiplier verification check...
🔍 VERIFYING CLICK MULTIPLIERS: Checking for inconsistencies between original and required click values
OS module CPU info: {
  "cpus": [
    {
      "model": "AMD EPYC 7B13",
      "speed": 0,
      "times": {
        "user": 7764000,
        "nice": 180,
        "sys": 1798120,
        "idle": 23831880,
        "irq": 809200
      }
    },
    {
      "model": "AMD EPYC 7B13",
      "speed": 0,
      "times": {
        "user": 7906950,
        "nice": 0,
        "sys": 1841980,
        "idle": 23560550,
        "irq": 838210
      }
    },
    {
      "model": "AMD EPYC 7B13",
      "speed": 0,
      "times": {
        "user": 11265070,
        "nice": 150,
        "sys": 2314560,
        "idle": 18939990,
        "irq": 880740
      }
    },
    {
      "model": "AMD EPYC 7B13",
      "speed": 0,
      "times": {
        "user": 11324930,
        "nice": 0,
        "sys": 2300630,
        "idle": 18913500,
        "irq": 856030
      }
    },
    {
      "model": "AMD EPYC 7B13",
      "speed": 0,
      "times": {
        "user": 10952870,
        "nice": 0,
        "sys": 2435050,
        "idle": 18925110,
        "irq": 903210
      }
    },
    {
      "model": "AMD EPYC 7B13",
      "speed": 0,
      "times": {
        "user": 10892460,
        "nice": 0,
        "sys": 2397060,
        "idle": 19029020,
        "irq": 888790
      }
    },
    {
      "model": "AMD EPYC 7B13",
      "speed": 0,
      "times": {
        "user": 11228300,
        "nice": 10,
        "sys": 2301900,
        "idle": 19040970,
        "irq": 897660
      }
    },
    {
      "model": "AMD EPYC 7B13",
      "speed": 0,
      "times": {
        "user": 11192560,
        "nice": 0,
        "sys": 2312160,
        "idle": 19032910,
        "irq": 873530
      }
    }
  ],
  "cpuCount": 8,
  "arch": "x64",
  "platform": "linux",
  "osType": "Linux",
  "totalMemory": 67436748800,
  "freeMemory": 22120325120
}
Using OS module CPU info: {
  "manufacturer": "AMD",
  "brand": "AMD EPYC 7B13",
  "speed": 0,
  "cores": 8,
  "physicalCores": 4
}
Load average data: {
  "avgLoad": 0.54,
  "currentLoad": 28.71412716029808,
  "currentLoadUser": 21.010668418310722,
  "currentLoadSystem": 5.282112845138055,
  "currentLoadNice": 0,
  "currentLoadIdle": 71.28587283970191,
  "currentLoadIrq": 2.4213458968493056,
  "currentLoadSteal": 0,
  "currentLoadGuest": 0,
  "rawCurrentLoad": 126770,
  "rawCurrentLoadUser": 92760,
  "rawCurrentLoadSystem": 23320,
  "rawCurrentLoadNice": 0,
  "rawCurrentLoadIdle": 314720,
  "rawCurrentLoadIrq": 10690,
  "rawCurrentLoadSteal": 0,
  "rawCurrentLoadGuest": 0,
  "cpus": [
    {
      "load": 24.445995463269934,
      "loadUser": 18.32140987611237,
      "loadSystem": 4.083057058105043,
      "loadNice": 0,
      "loadIdle": 75.55400453673006,
      "loadIrq": 2.0415285290525214,
      "rawLoad": 14010,
      "rawLoadUser": 10500,
      "rawLoadSystem": 2340,
      "rawLoadNice": 0,
      "rawLoadIdle": 43300,
      "rawLoadIrq": 1170,
      "rawLoadSteal": 0,
      "rawLoadGuest": 0
    },
    {
      "load": 26.08544633553317,
      "loadUser": 19.74643973601945,
      "loadSystem": 4.307051059395624,
      "loadNice": 0,
      "loadIdle": 73.91455366446684,
      "loadIrq": 2.031955540118097,
      "rawLoad": 15020,
      "rawLoadUser": 11370,
      "rawLoadSystem": 2480,
      "rawLoadNice": 0,
      "rawLoadIdle": 42560,
      "rawLoadIrq": 1170,
      "rawLoadSteal": 0,
      "rawLoadGuest": 0
    },
    {
      "load": 30.06780870806567,
      "loadUser": 21.895074946466806,
      "loadSystem": 5.763740185581727,
      "loadNice": 0,
      "loadIdle": 69.93219129193433,
      "loadIrq": 2.4089935760171306,
      "rawLoad": 16850,
      "rawLoadUser": 12270,
      "rawLoadSystem": 3230,
      "rawLoadNice": 0,
      "rawLoadIdle": 39190,
      "rawLoadIrq": 1350,
      "rawLoadSteal": 0,
      "rawLoadGuest": 0
    },
    {
      "load": 30.044264109184805,
      "loadUser": 22.095167834747325,
      "loadSystem": 5.551457026927333,
      "loadNice": 0,
      "loadIdle": 69.95573589081519,
      "loadIrq": 2.397639247510144,
      "rawLoad": 16290,
      "rawLoadUser": 11980,
      "rawLoadSystem": 3010,
      "rawLoadNice": 0,
      "rawLoadIdle": 37930,
      "rawLoadIrq": 1300,
      "rawLoadSteal": 0,
      "rawLoadGuest": 0
    },
    {
      "load": 29.470566456867825,
      "loadUser": 21.251388374676043,
      "loadSystem": 5.534987041836357,
      "loadNice": 0,
      "loadIdle": 70.52943354313217,
      "loadIrq": 2.6841910403554237,
      "rawLoad": 15920,
      "rawLoadUser": 11480,
      "rawLoadSystem": 2990,
      "rawLoadNice": 0,
      "rawLoadIdle": 38100,
      "rawLoadIrq": 1450,
      "rawLoadSteal": 0,
      "rawLoadGuest": 0
    },
    {
      "load": 30.48375184638109,
      "loadUser": 22.02732644017725,
      "loadSystem": 5.871491875923191,
      "loadNice": 0,
      "loadIdle": 69.5162481536189,
      "loadIrq": 2.58493353028065,
      "rawLoad": 16510,
      "rawLoadUser": 11930,
      "rawLoadSystem": 3180,
      "rawLoadNice": 0,
      "rawLoadIdle": 37650,
      "rawLoadIrq": 1400,
      "rawLoadSteal": 0,
      "rawLoadGuest": 0
    },
    {
      "load": 30.726669125783847,
      "loadUser": 22.242714865363332,
      "loadSystem": 5.846551088159351,
      "loadNice": 0,
      "loadIdle": 69.27333087421616,
      "loadIrq": 2.637403172261158,
      "rawLoad": 16660,
      "rawLoadUser": 12060,
      "rawLoadSystem": 3170,
      "rawLoadNice": 0,
      "rawLoadIdle": 37560,
      "rawLoadIrq": 1430,
      "rawLoadSteal": 0,
      "rawLoadGuest": 0
    },
    {
      "load": 28.754171301446053,
      "loadUser": 20.7081942899518,
      "loadSystem": 5.413422321097515,
      "loadNice": 0,
      "loadIdle": 71.24582869855395,
      "loadIrq": 2.632554690396737,
      "rawLoad": 15510,
      "rawLoadUser": 11170,
      "rawLoadSystem": 2920,
      "rawLoadNice": 0,
      "rawLoadIdle": 38430,
      "rawLoadIrq": 1420,
      "rawLoadSteal": 0,
      "rawLoadGuest": 0
    }
  ]
}
OS load averages: linux [ 2.09, 2.97, 4.35 ]
========== SYSTEM LOAD CALCULATION ==========
Raw OS load averages: [2.09,2.97,4.35]
Using 1-minute load average: 2.09
CPU Info raw length: 8
Number of CPUs detected: 8
SI current load data: {"avgLoad":0.54,"currentLoad":28.71412716029808,"currentLoadUser":21.010668418310722,"currentLoadSystem":5.282112845138055,"currentLoadNice":0,"currentLoadIdle":71.28587283970191,"currentLoadIrq":2.4213458968493056,"currentLoadSteal":0,"currentLoadGuest":0,"rawCurrentLoad":126770,"rawCurrentLoadUser":92760,"rawCurrentLoadSystem":23320,"rawCurrentLoadNice":0,"rawCurrentLoadIdle":314720,"rawCurrentLoadIrq":10690,"rawCurrentLoadSteal":0,"rawCurrentLoadGuest":0,"cpus":[{"load":24.445995463269934,"loadUser":18.32140987611237,"loadSystem":4.083057058105043,"loadNice":0,"loadIdle":75.55400453673006,"loadIrq":2.0415285290525214,"rawLoad":14010,"rawLoadUser":10500,"rawLoadSystem":2340,"rawLoadNice":0,"rawLoadIdle":43300,"rawLoadIrq":1170,"rawLoadSteal":0,"rawLoadGuest":0},{"load":26.08544633553317,"loadUser":19.74643973601945,"loadSystem":4.307051059395624,"loadNice":0,"loadIdle":73.91455366446684,"loadIrq":2.031955540118097,"rawLoad":15020,"rawLoadUser":11370,"rawLoadSystem":2480,"rawLoadNice":0,"rawLoadIdle":42560,"rawLoadIrq":1170,"rawLoadSteal":0,"rawLoadGuest":0},{"load":30.06780870806567,"loadUser":21.895074946466806,"loadSystem":5.763740185581727,"loadNice":0,"loadIdle":69.93219129193433,"loadIrq":2.4089935760171306,"rawLoad":16850,"rawLoadUser":12270,"rawLoadSystem":3230,"rawLoadNice":0,"rawLoadIdle":39190,"rawLoadIrq":1350,"rawLoadSteal":0,"rawLoadGuest":0},{"load":30.044264109184805,"loadUser":22.095167834747325,"loadSystem":5.551457026927333,"loadNice":0,"loadIdle":69.95573589081519,"loadIrq":2.397639247510144,"rawLoad":16290,"rawLoadUser":11980,"rawLoadSystem":3010,"rawLoadNice":0,"rawLoadIdle":37930,"rawLoadIrq":1300,"rawLoadSteal":0,"rawLoadGuest":0},{"load":29.470566456867825,"loadUser":21.251388374676043,"loadSystem":5.534987041836357,"loadNice":0,"loadIdle":70.52943354313217,"loadIrq":2.6841910403554237,"rawLoad":15920,"rawLoadUser":11480,"rawLoadSystem":2990,"rawLoadNice":0,"rawLoadIdle":38100,"rawLoadIrq":1450,"rawLoadSteal":0,"rawLoadGuest":0},{"load":30.48375184638109,"loadUser":22.02732644017725,"loadSystem":5.871491875923191,"loadNice":0,"loadIdle":69.5162481536189,"loadIrq":2.58493353028065,"rawLoad":16510,"rawLoadUser":11930,"rawLoadSystem":3180,"rawLoadNice":0,"rawLoadIdle":37650,"rawLoadIrq":1400,"rawLoadSteal":0,"rawLoadGuest":0},{"load":30.726669125783847,"loadUser":22.242714865363332,"loadSystem":5.846551088159351,"loadNice":0,"loadIdle":69.27333087421616,"loadIrq":2.637403172261158,"rawLoad":16660,"rawLoadUser":12060,"rawLoadSystem":3170,"rawLoadNice":0,"rawLoadIdle":37560,"rawLoadIrq":1430,"rawLoadSteal":0,"rawLoadGuest":0},{"load":28.754171301446053,"loadUser":20.7081942899518,"loadSystem":5.413422321097515,"loadNice":0,"loadIdle":71.24582869855395,"loadIrq":2.632554690396737,"rawLoad":15510,"rawLoadUser":11170,"rawLoadSystem":2920,"rawLoadNice":0,"rawLoadIdle":38430,"rawLoadIrq":1420,"rawLoadSteal":0,"rawLoadGuest":0}]}
Initial calculated load value: 26.125
Final system load calculation (before fallbacks): 26
FINAL SYSTEM LOAD VALUE TO DISPLAY: 26
===========================================
Final CPU details being set: {
  "manufacturer": "AMD",
  "brand": "AMD EPYC 7B13",
  "speed": 2.8,
  "cores": 8,
  "physicalCores": 4
}
🔍 Found 0 URLs with mismatched click values (incorrect multiplication)
⚠️ Found mismatches in 0 campaigns:
✅ Fixed 0 URL click values with incorrect multipliers
🧹 Invalidating caches for 0 affected campaigns
✅ Automatic multiplier check: No issues found
10:30:18 AM [gmail-reader] Running scheduled auto-delete check (2 minute threshold)
10:30:18 AM [gmail-reader] Running email auto-delete check with interval set to 2 minutes
10:30:18 AM [gmail-reader] Current IMAP connection state: authenticated
10:30:18 AM [gmail-reader] Scanning for processed emails older than 2025-05-06T10:28:18.134Z (2 minutes ago)
10:30:18 AM [gmail-reader] No emails found that are successfully processed and older than 2 minutes